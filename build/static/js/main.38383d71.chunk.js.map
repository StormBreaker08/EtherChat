{"version":3,"sources":["components/HomeView.jsx","components/WaitingView.jsx","utils/webrtc.js","hooks/useWebRTC.js","components/MessageInput.jsx","constants/voiceFilters.js","components/VoiceSettings.jsx","components/Messages/TextMessage.jsx","components/Messages/VoiceMessage.jsx","components/Messages/SystemMessage.jsx","components/Messages/MessageList.jsx","components/ChatView.jsx","App.jsx","index.js"],"names":["HomeView","_ref","createRoom","joinRoom","inputRoomCode","setInputRoomCode","_jsx","className","children","_jsxs","MessageSquare","onClick","type","placeholder","value","onChange","e","target","toUpperCase","onKeyPress","key","Shield","Zap","Users","Lock","WaitingView","roomCode","copyRoomCode","shareRoom","copySuccess","Check","Copy","Share2","useWebRTC","isInitiator","isConnected","setIsConnected","useState","messages","setMessages","peerConnection","useRef","dataChannel","useEffect","async","current","onIceCandidate","onConnectionStateChange","RTCPeerConnection","iceServers","urls","onicecandidate","event","candidate","onconnectionstatechange","connectionState","initWebRTC","setupDataChannel","onMessage","onOpen","onClose","createDataChannel","onopen","onmessage","data","onclose","setupConnection","close","MessageInput","sendMessage","isRecording","startRecording","stopRecording","messageInput","setMessageInput","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","concat","title","MicOff","Mic","Send","voiceFilters","id","label","icon","desc","VoiceSettings","selectedVoiceFilter","setSelectedVoiceFilter","setShowVoiceSettings","map","filter","TextMessage","content","isSent","timestamp","Date","toLocaleTimeString","VoiceMessage","audioData","isPlaying","onPlay","onPause","src","controls","SystemMessage","MessageList","msg","message","ChatView","peerTyping","showVoiceSettings","messagesEnd","document","getElementById","scrollIntoView","behavior","App","view","setView","renderView","ReactDOM","render","React","StrictMode"],"mappings":"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","file":"static/js/main.38383d71.chunk.js","sourcesContent":["\nimport React from 'react';\nimport { MessageSquare, Shield, Zap, Users, Lock } from 'react-feather';\n\nconst HomeView = ({ createRoom, joinRoom, inputRoomCode, setInputRoomCode }) => (\n  <div className=\"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-50 to-indigo-100 p-8\">\n    <div className=\"max-w-md w-full bg-white rounded-xl shadow-2xl p-8\">\n      <div className=\"flex items-center justify-center mb-6\">\n        <div className=\"bg-blue-600 p-4 rounded-full\">\n          <MessageSquare className=\"w-10 h-10 text-white\" />\n        </div>\n      </div>\n      <h1 className=\"text-3xl font-bold text-center mb-2 text-gray-800\">EtherChat</h1>\n      <p className=\"text-center text-gray-600 mb-8\">Private peer-to-peer messaging. No servers. No tracking.</p>\n      \n      <div className=\"space-y-4\">\n        <button \n          onClick={createRoom}\n          className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition shadow-md\"\n        >\n          Create New Room\n        </button>\n        \n        <div className=\"relative\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-300\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white text-gray-500\">or</span>\n          </div>\n        </div>\n        \n        <div className=\"space-y-2\">\n          <input \n            type=\"text\" \n            placeholder=\"Enter room code (e.g., ABC-123-XYZ)\"\n            value={inputRoomCode}\n            onChange={(e) => setInputRoomCode(e.target.value.toUpperCase())}\n            onKeyPress={(e) => e.key === 'Enter' && joinRoom()}\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          <button \n            onClick={joinRoom}\n            className=\"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-200 transition\"\n          >\n            Join Room\n          </button>\n        </div>\n      </div>\n\n      <div className=\"mt-8 grid grid-cols-2 gap-4\">\n        <div className=\"text-center p-3\">\n          <Shield className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n          <p className=\"text-xs text-gray-600 font-medium\">End-to-End Encrypted</p>\n        </div>\n        <div className=\"text-center p-3\">\n          <Zap className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n          <p className=\"text-xs text-gray-600 font-medium\">Peer-to-Peer Direct</p>\n        </div>\n        <div className=\"text-center p-3\">\n          <Users className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n          <p className=\"text-xs text-gray-600 font-medium\">100% Anonymous</p>\n        </div>\n        <div className=\"text-center p-3\">\n          <Lock className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n          <p className=\"text-xs text-gray-600 font-medium\">No Data Stored</p>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default HomeView;","// src/components/WaitingView.jsx\nimport React from 'react';\nimport { Copy, Check, Share2 } from 'react-feather';\n\nconst WaitingView = ({ roomCode, copyRoomCode, shareRoom, copySuccess }) => {\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-50 to-indigo-100 p-8\">\n      <div className=\"max-w-md w-full bg-white rounded-xl shadow-2xl p-8\">\n        <div className=\"flex flex-col items-center\">\n          <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-6\"></div>\n          <h2 className=\"text-2xl font-bold mb-2 text-gray-800\">Waiting for Connection...</h2>\n          <p className=\"text-gray-600 text-center mb-6\">Share this room code to start chatting</p>\n          \n          <div className=\"w-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-6 border-2 border-blue-200\">\n            <p className=\"text-xs text-gray-600 mb-2 text-center font-medium\">ROOM CODE</p>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-3xl font-mono font-bold text-blue-600\">{roomCode}</span>\n              <button \n                onClick={copyRoomCode}\n                className=\"p-3 hover:bg-white rounded-lg transition relative\"\n              >\n                {copySuccess ? (\n                  <Check className=\"w-5 h-5 text-green-600\" />\n                ) : (\n                  <Copy className=\"w-5 h-5 text-blue-600\" />\n                )}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"w-full space-y-3\">\n            <button \n              onClick={shareRoom}\n              className=\"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition\"\n            >\n              <Share2 className=\"w-4 h-4\" />\n              Share Room Link\n            </button>\n\n            <button \n              onClick={() => { /* Logic to go back */ }}\n              className=\"w-full text-gray-600 hover:text-gray-800 transition py-2\"\n            >\n              Cancel & Go Back\n            </button>\n          </div>\n\n          <div className=\"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200 w-full\">\n            <p className=\"text-xs text-yellow-800 text-center\">\n              ðŸ’¡ Your peer needs to enter this code to connect with you\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WaitingView;","export const generateRoomCode = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    const parts = [];\n    for (let i = 0; i < 3; i++) {\n        let part = '';\n        for (let j = 0; j < 4; j++) {\n            part += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        parts.push(part);\n    }\n    return parts.join('-');\n};\n\nexport const initWebRTC = async (isInitiator, onIceCandidate, onConnectionStateChange) => {\n    const config = {\n        iceServers: [\n            { urls: 'stun:stun.l.google.com:19302' },\n            { urls: 'stun:stun1.l.google.com:19302' }\n        ]\n    };\n\n    const peerConnection = new RTCPeerConnection(config);\n\n    peerConnection.onicecandidate = (event) => {\n        if (event.candidate) {\n            onIceCandidate(event.candidate);\n        }\n    };\n\n    peerConnection.onconnectionstatechange = () => {\n        onConnectionStateChange(peerConnection.connectionState);\n    };\n\n    if (isInitiator) {\n        // Additional setup for initiator\n    }\n\n    return peerConnection;\n};\n\nexport const setupDataChannel = (peerConnection, onMessage, onOpen, onClose) => {\n    const dataChannel = peerConnection.createDataChannel('chat');\n\n    dataChannel.onopen = () => {\n        onOpen();\n    };\n\n    dataChannel.onmessage = (event) => {\n        onMessage(event.data);\n    };\n\n    dataChannel.onclose = () => {\n        onClose();\n    };\n\n    return dataChannel;\n};","// src/hooks/useWebRTC.js\n\nimport { useEffect, useRef, useState } from 'react';\nimport { initWebRTC, setupDataChannel } from '../utils/webrtc';\n\nconst useWebRTC = (isInitiator) => {\n  const [isConnected, setIsConnected] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const peerConnection = useRef(null);\n  const dataChannel = useRef(null);\n\n  useEffect(() => {\n    const setupConnection = async () => {\n      peerConnection.current = await initWebRTC(isInitiator);\n      setupDataChannel(dataChannel.current, setMessages, setIsConnected);\n    };\n\n    setupConnection();\n\n    return () => {\n      if (peerConnection.current) {\n        peerConnection.current.close();\n      }\n    };\n  }, [isInitiator]);\n\n  return { isConnected, messages, setMessages };\n};\n\nexport { useWebRTC };","import React, { useState } from 'react';\n\nconst MessageInput = ({ sendMessage, isRecording, startRecording, stopRecording, messageInput, setMessageInput }) => {\n  const handleInputChange = (e) => {\n    setMessageInput(e.target.value);\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      sendMessage();\n    }\n  };\n\n  return (\n    <div className=\"bg-white border-t border-gray-200 p-4 shadow-lg\">\n      <div className=\"flex gap-3 items-end\">\n        <button\n          onMouseDown={startRecording}\n          onMouseUp={stopRecording}\n          onTouchStart={startRecording}\n          onTouchEnd={stopRecording}\n          className={`p-3 rounded-full transition shadow-md flex items-center justify-center ${\n            isRecording ? 'bg-red-600 text-white hover:bg-red-700 animate-pulse' : 'bg-gray-200 text-gray-600 hover:bg-gray-300'\n          }`}\n          title=\"Hold to record voice message\"\n        >\n          {isRecording ? <MicOff className=\"w-5 h-5\" /> : <Mic className=\"w-5 h-5\" />}\n        </button>\n\n        <input\n          type=\"text\"\n          placeholder=\"Type your message...\"\n          value={messageInput}\n          onChange={handleInputChange}\n          onKeyPress={handleKeyPress}\n          className=\"flex-1 border border-gray-300 rounded-full px-6 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n        <button\n          onClick={sendMessage}\n          className=\"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition shadow-md flex items-center justify-center\"\n        >\n          <Send className=\"w-5 h-5\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageInput;","export const voiceFilters = [\n  {\n    id: 'normal',\n    label: 'Normal',\n    icon: 'ðŸŽ¤',\n    desc: 'No filter'\n  },\n  {\n    id: 'deep',\n    label: 'Deep Voice',\n    icon: 'ðŸ—£ï¸',\n    desc: 'Lower pitch'\n  },\n  {\n    id: 'high',\n    label: 'High Pitch',\n    icon: 'ðŸŽµ',\n    desc: 'Higher pitch'\n  },\n  {\n    id: 'robotic',\n    label: 'Robotic',\n    icon: 'ðŸ¤–',\n    desc: 'Synthetic'\n  },\n  {\n    id: 'echo',\n    label: 'Echo',\n    icon: 'ðŸ”Š',\n    desc: 'Reverb effect'\n  },\n  {\n    id: 'whisper',\n    label: 'Whisper',\n    icon: 'ðŸ¤«',\n    desc: 'Soft & quiet'\n  },\n  {\n    id: 'alien',\n    label: 'Alien',\n    icon: 'ðŸ‘½',\n    desc: 'Otherworldly'\n  },\n  {\n    id: 'radio',\n    label: 'Radio',\n    icon: 'ðŸ“»',\n    desc: 'Static effect'\n  }\n];","import React from 'react';\nimport { useState } from 'react';\nimport { voiceFilters } from '../constants/voiceFilters';\n\nconst VoiceSettings = ({ selectedVoiceFilter, setSelectedVoiceFilter }) => {\n  return (\n    <div className=\"bg-white border-t border-gray-200 p-4 shadow-lg\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"font-semibold text-gray-800 flex items-center gap-2\">\n            <span className=\"w-4 h-4\" />\n            Voice Filter Settings\n          </h3>\n          <button \n            onClick={() => setShowVoiceSettings(false)}\n            className=\"text-gray-500 hover:text-gray-700 text-sm\"\n          >\n            Close\n          </button>\n        </div>\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          {voiceFilters.map((filter) => (\n            <button\n              key={filter.id}\n              onClick={() => setSelectedVoiceFilter(filter.id)}\n              className={`p-4 rounded-lg border-2 transition text-left ${\n                selectedVoiceFilter === filter.id\n                  ? 'border-blue-600 bg-blue-50'\n                  : 'border-gray-200 bg-white hover:border-gray-300'\n              }`}\n            >\n              <div className=\"text-2xl mb-1\">{filter.icon}</div>\n              <div className=\"font-medium text-sm text-gray-800\">{filter.label}</div>\n              <div className=\"text-xs text-gray-500\">{filter.desc}</div>\n            </button>\n          ))}\n        </div>\n\n        <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\n          <p className=\"text-xs text-yellow-800\">\n            ðŸ’¡ Voice filters protect your identity by modifying your voice characteristics in real-time\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceSettings;","const TextMessage = ({ content, isSent, timestamp }) => {\n  return (\n    <div className={`message ${isSent ? 'sent' : 'received'}`}>\n      <p>{content}</p>\n      <span className=\"timestamp\">{new Date(timestamp).toLocaleTimeString()}</span>\n    </div>\n  );\n};\n\nexport default TextMessage;","const VoiceMessage = ({ audioData, filter, isPlaying, onPlay, onPause }) => {\n  return (\n    <div className=\"voice-message\">\n      <audio src={audioData} controls onPlay={onPlay} onPause={onPause}>\n        Your browser does not support the audio element.\n      </audio>\n      <div className=\"voice-filter\">\n        <span>Filter: {filter}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceMessage;","import React from 'react';\n\nconst SystemMessage = ({ content }) => {\n    return (\n        <div className=\"system-message\">\n            <p>{content}</p>\n        </div>\n    );\n};\n\nexport default SystemMessage;","import React from 'react';\nimport TextMessage from './TextMessage';\nimport VoiceMessage from './VoiceMessage';\nimport SystemMessage from './SystemMessage';\n\nconst MessageList = ({ messages }) => {\n  return (\n    <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n      {messages.map((msg) => {\n        switch (msg.type) {\n          case 'text':\n            return <TextMessage key={msg.id} message={msg} />;\n          case 'voice':\n            return <VoiceMessage key={msg.id} message={msg} />;\n          case 'system':\n            return <SystemMessage key={msg.id} message={msg} />;\n          default:\n            return null;\n        }\n      })}\n    </div>\n  );\n};\n\nexport default MessageList;","import React, { useEffect } from 'react';\nimport { useWebRTC } from '../hooks/useWebRTC';\nimport MessageInput from './MessageInput';\nimport VoiceSettings from './VoiceSettings';\nimport MessageList from './Messages/MessageList';\n\nconst ChatView = () => {\n  const { messages, isConnected, peerTyping, sendMessage, showVoiceSettings, setShowVoiceSettings } = useWebRTC();\n\n  useEffect(() => {\n    // Scroll to the bottom of the message list when new messages arrive\n    const messagesEnd = document.getElementById('messagesEnd');\n    if (messagesEnd) {\n      messagesEnd.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-50\">\n      <div className=\"bg-white px-6 py-4 flex items-center justify-between shadow-sm border-b border-gray-200\">\n        <div className=\"flex items-center gap-3\">\n          <div className={`w-3 h-3 rounded-full ${isConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`}></div>\n          <div>\n            <h2 className=\"font-semibold text-gray-800\">Anonymous User</h2>\n            <p className=\"text-xs text-gray-500\">\n              {isConnected ? 'Connected via WebRTC' : 'Connecting...'}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium\">\n            ðŸ”’ Encrypted\n          </div>\n          <button \n            onClick={() => {/* Leave room logic */}}\n            className=\"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600 transition\"\n          >\n            Leave Room\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n        <MessageList messages={messages} />\n        {peerTyping && <div className=\"typing-indicator\">...</div>}\n        <div id=\"messagesEnd\" />\n      </div>\n\n      {showVoiceSettings && <VoiceSettings />}\n\n      <div className=\"bg-white border-t border-gray-200 p-4 shadow-lg\">\n        <MessageInput sendMessage={sendMessage} setShowVoiceSettings={setShowVoiceSettings} />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatView;","import React, { useState } from 'react';\nimport HomeView from './components/HomeView';\nimport WaitingView from './components/WaitingView';\nimport ChatView from './components/ChatView';\n\nconst App = () => {\n  const [view, setView] = useState('home');\n\n  const renderView = () => {\n    switch (view) {\n      case 'home':\n        return <HomeView setView={setView} />;\n      case 'waiting':\n        return <WaitingView setView={setView} />;\n      case 'chat':\n        return <ChatView setView={setView} />;\n      default:\n        return <HomeView setView={setView} />;\n    }\n  };\n\n  return (\n    <div className=\"w-full h-screen\">\n      {renderView()}\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
(this["webpackJsonpwebrtc-chat-app"]=this["webpackJsonpwebrtc-chat-app"]||[]).push([[0],{10:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),a=s(4),l=s.n(a),n=(s(10),s(15)),i=s(16),o=s(17),d=s(18),b=s(19),x=s(0);var j=e=>{let{createRoom:t,joinRoom:s,inputRoomCode:c,setInputRoomCode:r}=e;return Object(x.jsx)("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:Object(x.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8",children:[Object(x.jsx)("div",{className:"flex items-center justify-center mb-6",children:Object(x.jsx)("div",{className:"bg-blue-600 p-4 rounded-full",children:Object(x.jsx)(n.a,{className:"w-10 h-10 text-white"})})}),Object(x.jsx)("h1",{className:"text-3xl font-bold text-center mb-2 text-gray-800",children:"EtherChat"}),Object(x.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"Private peer-to-peer messaging. No servers. No tracking."}),Object(x.jsxs)("div",{className:"space-y-4",children:[Object(x.jsx)("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition shadow-md",children:"Create New Room"}),Object(x.jsxs)("div",{className:"relative",children:[Object(x.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(x.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(x.jsx)("div",{className:"relative flex justify-center text-sm",children:Object(x.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),Object(x.jsxs)("div",{className:"space-y-2",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter room code (e.g., ABC-123-XYZ)",value:c,onChange:e=>r(e.target.value.toUpperCase()),onKeyPress:e=>"Enter"===e.key&&s(),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),Object(x.jsx)("button",{onClick:s,className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Join Room"})]})]}),Object(x.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[Object(x.jsxs)("div",{className:"text-center p-3",children:[Object(x.jsx)(i.a,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),Object(x.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"End-to-End Encrypted"})]}),Object(x.jsxs)("div",{className:"text-center p-3",children:[Object(x.jsx)(o.a,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),Object(x.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Peer-to-Peer Direct"})]}),Object(x.jsxs)("div",{className:"text-center p-3",children:[Object(x.jsx)(d.a,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),Object(x.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"100% Anonymous"})]}),Object(x.jsxs)("div",{className:"text-center p-3",children:[Object(x.jsx)(b.a,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),Object(x.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"No Data Stored"})]})]})]})})},m=s(20),u=s(21),h=s(22);var g=e=>{let{roomCode:t,copyRoomCode:s,shareRoom:c,copySuccess:r}=e;return Object(x.jsx)("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:Object(x.jsx)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8",children:Object(x.jsxs)("div",{className:"flex flex-col items-center",children:[Object(x.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-6"}),Object(x.jsx)("h2",{className:"text-2xl font-bold mb-2 text-gray-800",children:"Waiting for Connection..."}),Object(x.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Share this room code to start chatting"}),Object(x.jsxs)("div",{className:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-6 border-2 border-blue-200",children:[Object(x.jsx)("p",{className:"text-xs text-gray-600 mb-2 text-center font-medium",children:"ROOM CODE"}),Object(x.jsxs)("div",{className:"flex items-center justify-between",children:[Object(x.jsx)("span",{className:"text-3xl font-mono font-bold text-blue-600",children:t}),Object(x.jsx)("button",{onClick:s,className:"p-3 hover:bg-white rounded-lg transition relative",children:r?Object(x.jsx)(m.a,{className:"w-5 h-5 text-green-600"}):Object(x.jsx)(u.a,{className:"w-5 h-5 text-blue-600"})})]})]}),Object(x.jsxs)("div",{className:"w-full space-y-3",children:[Object(x.jsxs)("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:[Object(x.jsx)(h.a,{className:"w-4 h-4"}),"Share Room Link"]}),Object(x.jsx)("button",{onClick:()=>{},className:"w-full text-gray-600 hover:text-gray-800 transition py-2",children:"Cancel & Go Back"})]}),Object(x.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200 w-full",children:Object(x.jsx)("p",{className:"text-xs text-yellow-800 text-center",children:"\ud83d\udca1 Your peer needs to enter this code to connect with you"})})]})})})};const p=e=>{const[t,s]=Object(c.useState)(!1),[r,a]=Object(c.useState)([]),l=Object(c.useRef)(null),n=Object(c.useRef)(null);return Object(c.useEffect)(()=>((async()=>{l.current=await(async(e,t,s)=>{const c=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]});return c.onicecandidate=e=>{e.candidate&&t(e.candidate)},c.onconnectionstatechange=()=>{s(c.connectionState)},c})(),((e,t,s,c)=>{const r=e.createDataChannel("chat");r.onopen=()=>{s()},r.onmessage=e=>{t(e.data)},r.onclose=()=>{c()}})(n.current,a,s)})(),()=>{l.current&&l.current.close()}),[e]),{isConnected:t,messages:r,setMessages:a}};var O=e=>{let{sendMessage:t,isRecording:s,startRecording:c,stopRecording:r,messageInput:a,setMessageInput:l}=e;return Object(x.jsx)("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:Object(x.jsxs)("div",{className:"flex gap-3 items-end",children:[Object(x.jsx)("button",{onMouseDown:c,onMouseUp:r,onTouchStart:c,onTouchEnd:r,className:"p-3 rounded-full transition shadow-md flex items-center justify-center ".concat(s?"bg-red-600 text-white hover:bg-red-700 animate-pulse":"bg-gray-200 text-gray-600 hover:bg-gray-300"),title:"Hold to record voice message",children:s?Object(x.jsx)(MicOff,{className:"w-5 h-5"}):Object(x.jsx)(Mic,{className:"w-5 h-5"})}),Object(x.jsx)("input",{type:"text",placeholder:"Type your message...",value:a,onChange:e=>{l(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&t()},className:"flex-1 border border-gray-300 rounded-full px-6 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Object(x.jsx)("button",{onClick:t,className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition shadow-md flex items-center justify-center",children:Object(x.jsx)(Send,{className:"w-5 h-5"})})]})})};const f=[{id:"normal",label:"Normal",icon:"\ud83c\udfa4",desc:"No filter"},{id:"deep",label:"Deep Voice",icon:"\ud83d\udde3\ufe0f",desc:"Lower pitch"},{id:"high",label:"High Pitch",icon:"\ud83c\udfb5",desc:"Higher pitch"},{id:"robotic",label:"Robotic",icon:"\ud83e\udd16",desc:"Synthetic"},{id:"echo",label:"Echo",icon:"\ud83d\udd0a",desc:"Reverb effect"},{id:"whisper",label:"Whisper",icon:"\ud83e\udd2b",desc:"Soft & quiet"},{id:"alien",label:"Alien",icon:"\ud83d\udc7d",desc:"Otherworldly"},{id:"radio",label:"Radio",icon:"\ud83d\udcfb",desc:"Static effect"}];var y=e=>{let{selectedVoiceFilter:t,setSelectedVoiceFilter:s}=e;return Object(x.jsx)("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:Object(x.jsxs)("div",{className:"max-w-4xl mx-auto",children:[Object(x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Object(x.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[Object(x.jsx)("span",{className:"w-4 h-4"}),"Voice Filter Settings"]}),Object(x.jsx)("button",{onClick:()=>setShowVoiceSettings(!1),className:"text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),Object(x.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(e=>Object(x.jsxs)("button",{onClick:()=>s(e.id),className:"p-4 rounded-lg border-2 transition text-left ".concat(t===e.id?"border-blue-600 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[Object(x.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),Object(x.jsx)("div",{className:"font-medium text-sm text-gray-800",children:e.label}),Object(x.jsx)("div",{className:"text-xs text-gray-500",children:e.desc})]},e.id))}),Object(x.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:Object(x.jsx)("p",{className:"text-xs text-yellow-800",children:"\ud83d\udca1 Voice filters protect your identity by modifying your voice characteristics in real-time"})})]})})};var N=e=>{let{content:t,isSent:s,timestamp:c}=e;return Object(x.jsxs)("div",{className:"message ".concat(s?"sent":"received"),children:[Object(x.jsx)("p",{children:t}),Object(x.jsx)("span",{className:"timestamp",children:new Date(c).toLocaleTimeString()})]})};var v=e=>{let{audioData:t,filter:s,isPlaying:c,onPlay:r,onPause:a}=e;return Object(x.jsxs)("div",{className:"voice-message",children:[Object(x.jsx)("audio",{src:t,controls:!0,onPlay:r,onPause:a,children:"Your browser does not support the audio element."}),Object(x.jsx)("div",{className:"voice-filter",children:Object(x.jsxs)("span",{children:["Filter: ",s]})})]})};var w=e=>{let{content:t}=e;return Object(x.jsx)("div",{className:"system-message",children:Object(x.jsx)("p",{children:t})})};var C=e=>{let{messages:t}=e;return Object(x.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:t.map(e=>{switch(e.type){case"text":return Object(x.jsx)(N,{message:e},e.id);case"voice":return Object(x.jsx)(v,{message:e},e.id);case"system":return Object(x.jsx)(w,{message:e},e.id);default:return null}})})};var S=()=>{const{messages:e,isConnected:t,peerTyping:s,sendMessage:r,showVoiceSettings:a,setShowVoiceSettings:l}=p();return Object(c.useEffect)(()=>{const e=document.getElementById("messagesEnd");e&&e.scrollIntoView({behavior:"smooth"})},[e]),Object(x.jsxs)("div",{className:"flex flex-col h-full bg-gray-50",children:[Object(x.jsxs)("div",{className:"bg-white px-6 py-4 flex items-center justify-between shadow-sm border-b border-gray-200",children:[Object(x.jsxs)("div",{className:"flex items-center gap-3",children:[Object(x.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t?"bg-green-500 animate-pulse":"bg-red-500")}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"font-semibold text-gray-800",children:"Anonymous User"}),Object(x.jsx)("p",{className:"text-xs text-gray-500",children:t?"Connected via WebRTC":"Connecting..."})]})]}),Object(x.jsxs)("div",{className:"flex items-center gap-2",children:[Object(x.jsx)("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"\ud83d\udd12 Encrypted"}),Object(x.jsx)("button",{onClick:()=>{},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600 transition",children:"Leave Room"})]})]}),Object(x.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[Object(x.jsx)(C,{messages:e}),s&&Object(x.jsx)("div",{className:"typing-indicator",children:"..."}),Object(x.jsx)("div",{id:"messagesEnd"})]}),a&&Object(x.jsx)(y,{}),Object(x.jsx)("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:Object(x.jsx)(O,{sendMessage:r,setShowVoiceSettings:l})})]})};var R=()=>{const[e,t]=Object(c.useState)("home");return Object(x.jsx)("div",{className:"w-full h-screen",children:(()=>{switch(e){case"home":default:return Object(x.jsx)(j,{setView:t});case"waiting":return Object(x.jsx)(g,{setView:t});case"chat":return Object(x.jsx)(S,{setView:t})}})()})};l.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(R,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.38383d71.chunk.js.map